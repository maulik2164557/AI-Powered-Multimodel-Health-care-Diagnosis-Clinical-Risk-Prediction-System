{% extends "base/base_patient.html" %}

{% block content %}

<div style="max-width: 900px; margin: 40px auto;">

    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>My Appointments</h2>

        <a href="{% url 'appointments:book_appointment' %}">
            <button style="padding:8px 15px;
                           background:#28a745;
                           color:white;
                           border:none;
                           border-radius:5px;">
                + Book Appointment
            </button>
        </a>
    </div>

    <hr>

    <table style="width:100%; border-collapse: collapse;">
        <tr style="background:#f2f2f2;">
            <th style="padding:10px;">Doctor</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
            <th>Reason</th>
        </tr>

        {% for appointment in appointments %}
        <tr style="text-align:center; border-bottom:1px solid #ddd;">
            <td>{{ appointment.doctor.full_name }}</td>
            <td>{{ appointment.date }}</td>
            <td>{{ appointment.time }}</td>
            <td>{{ appointment.get_status_display }}</td>
            <td>{{ appointment.message }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" style="padding:20px; text-align:center;">
                No appointments booked yet.
            </td>
        </tr>
        {% endfor %}
    </table>

</div>

{% endblock %}
